"use strict";let t=null,e=null;function r(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild}function o(){if("object"!=typeof document||"function"!=typeof DOMParser)return null;let o=document.querySelector(".alertist-bucket"),l=document.querySelector(".alertist-toast-bucket");return o||(o=document.createElement("span"),o.classList.add("alertist-bucket"),document.querySelector("body")?.append(o),t=o),l||(l=r('\n\t\t\t<div class="alertist-toast-bucket" popover="manual">\n\t\t\t\t<div class="alertist-toast-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),document.querySelector("body")?.append(l),l.showPopover(),e=l.querySelector(".alertist-toast-container")),!0}const l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAElBMVEX///9HcEz///////////////84chYNAAAABnRSTlP9ABWejzIjLOoFAAAAlUlEQVQoz3VSWRbEIAwi2/2vPG5tg8nohz6JBBFIhDRjnEIB0xtQB2LMik1kADIXZ8xXOUTtuqcbEXzbB3lK8RIQ29zgLdz9EgWYJJODRElui9zcSRBIGEkFPyc/EOwBXCq0L3WEW3Ur4xxa8hrkKHkNMqMa9dfe7lN8fcqFfPQQr+E4AWhjYziJasJmK1ERWhOqI6I/koMDV9q/Is8AAAAASUVORK5CYII=";const s={alert:async function({text:e,title:s,custom:n,button:i}){if(!o())return void console.error("alertist: init - not in a browser environment.");const a=r(`\n\t\t\t<dialog class="alertist">\n\t\t\t\t<div class="alertist-container alertist-alert">\n\t\t\t\t\t<div class="alertist-header">\n\t\t\t\t\t\t<div class="alertist-title" draggable="true"></div>\n\t\t\t\t\t\t<button class="alertist-title_close"><img src="${l}" alt=""></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="alertist-body alertist-wordbreak"></div>\n\t\t\t\t\t<div class="alertist-footer">\n\t\t\t\t\t\t<button class="alertist-footer_button"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</dialog>\n\t\t`);return a.querySelector(".alertist-title").textContent=s||"",a.querySelector(".alertist-body").innerHTML=e,a.querySelector(".alertist-footer_button").textContent=i||"OK","error"===n&&(a.querySelector(".alertist-title").classList.add("alertist-title_error"),a.querySelector(".alertist-title_close").classList.add("alertist-title_error_close")),t?.append(a),a.querySelector(".alertist-footer_button")?.addEventListener("click",(()=>{a.close()})),a.querySelector(".alertist-title_close")?.addEventListener("click",(()=>{a.close()})),a.addEventListener("close",(()=>{a.remove()})),a.showModal(),a.querySelector(".alertist-footer_button").focus(),new Promise((t=>{a.addEventListener("close",(()=>{t()}))}))},confirm:async function({text:e,title:s,custom:n,button:i,cancel:a}){if(!o())return console.error("alertist: init - not in a browser environment."),null;const c=r(`\n\t\t\t<dialog class="alertist">\n\t\t\t\t<div class="alertist-container alertist-confirm">\n\t\t\t\t\t<div class="alertist-header">\n\t\t\t\t\t\t<div class="alertist-title" draggable="true"></div>\n\t\t\t\t\t\t<button class="alertist-title_close"><img src="${l}" alt=""></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="alertist-body alertist-wordbreak"></div>\n\t\t\t\t\t<div class="alertist-footer">\n\t\t\t\t\t\t<button class="alertist-footer_button"></button>\n\t\t\t\t\t\t<button class="alertist-footer_cancelbutton"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</dialog>\n\t\t`);return c.querySelector(".alertist-title").textContent=s||"",c.querySelector(".alertist-body").innerHTML=e,c.querySelector(".alertist-footer_button").textContent=i||"OK",c.querySelector(".alertist-footer_cancelbutton").textContent=a||"Cancel","error"===n&&(c.querySelector(".alertist-title").classList.add("alertist-title_error"),c.querySelector(".alertist-title_close").classList.add("alertist-title_error_close")),t?.append(c),c.showModal(),c.querySelector(".alertist-footer_button").focus(),new Promise((t=>{c.querySelector(".alertist-footer_button")?.addEventListener("click",(()=>{t(!0),c.close()})),c.querySelector(".alertist-footer_cancelbutton")?.addEventListener("click",(()=>{t(null),c.close()})),c.querySelector(".alertist-title_close")?.addEventListener("click",(()=>{t(null),c.close()})),c.addEventListener("keydown",(e=>{"Escape"===e.key&&(e.preventDefault(),t(null),c.close())})),c.addEventListener("close",(()=>{c.remove()}))}))},prompt:async function({text:e,title:s,custom:n,type:i,placeholder:a,button:c,cancel:u}){if(!o())return console.error("alertist: init - not in a browser environment."),null;const d=r(`\n\t\t\t<dialog class="alertist">\n\t\t\t\t<div class="alertist-container alertist-prompt">\n\t\t\t\t\t<div class="alertist-header">\n\t\t\t\t\t\t<div class="alertist-title" draggable="true"></div>\n\t\t\t\t\t\t<button class="alertist-title_close"><img src="${l}" alt=""></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="alertist-body alertist-wordbreak"></div>\n\t\t\t\t\t<div class="alertist-input">\n\t\t\t\t\t\t<input type="text">\n\t\t\t\t\t\t<textarea></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="alertist-footer">\n\t\t\t\t\t\t<button class="alertist-footer_button"></button>\n\t\t\t\t\t\t<button class="alertist-footer_cancelbutton"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</dialog>\n\t\t`);let v=d.querySelector(".alertist-input input"),b=d.querySelector(".alertist-input textarea");d.querySelector(".alertist-title").textContent=s||"",d.querySelector(".alertist-body").innerHTML=e,d.querySelector(".alertist-footer_button").textContent=c||"OK",d.querySelector(".alertist-footer_cancelbutton").textContent=u||"Cancel",v.placeholder=a||"",b.placeholder=a||"","error"===n&&(d.querySelector(".alertist-title").classList.add("alertist-title_error"),d.querySelector(".alertist-title_close").classList.add("alertist-title_error_close")),t?.append(d),d.showModal();let y="textarea"===i?b:v;switch(i){case"textarea":v.remove(),b.focus();break;case"password":v.type="password",b.remove(),v.focus();break;default:b.remove(),v.focus()}return new Promise((t=>{y.addEventListener("keydown",(e=>{const r=e;"Enter"!==r.key||r.shiftKey||(e.preventDefault(),t(y.value),d.close())})),d.querySelector(".alertist-footer_button")?.addEventListener("click",(()=>{t(y.value),d.close()})),d.querySelector(".alertist-footer_cancelbutton")?.addEventListener("click",(()=>{t(null),d.close()})),d.querySelector(".alertist-title_close")?.addEventListener("click",(()=>{t(null),d.close()})),d.addEventListener("keydown",(e=>{"Escape"===e.key&&(e.preventDefault(),t(null),d.close())})),d.addEventListener("close",(()=>{d.remove()}))}))},toast:async function({text:t,closeonclick:s,closebutton:n,timeout:i,type:a}){if(!o())return console.error("alertist: init - not in a browser environment."),null;const c=r(`\n\t\t\t<div class="alertist-toast-notification">\n\t\t\t\t<span class="alertist-toast-content"></span>\n\t\t\t\t${n?`<button class="alertist-toast-close"><img src="${l}" alt=""></button>`:""}\n\t\t\t</div>\n\t\t`);return c.querySelector("span.alertist-toast-content").append(t),e?.append(c),setTimeout((()=>{c.classList.add("alertist-toast-notification-enter")})),new Promise((t=>{!1!==s&&c.addEventListener("click",(()=>{c.classList.remove("alertist-toast-notification-enter"),setTimeout((()=>{c.remove(),t(!0)}),300)})),0!==i&&setTimeout((()=>{c.classList.remove("alertist-toast-notification-enter"),setTimeout((()=>{c.remove(),t(null)}),300)}),i||5e3),n&&c.querySelector("button.alertist-toast-close").addEventListener("click",(()=>{c.classList.remove("alertist-toast-notification-enter"),setTimeout((()=>{c.remove(),t(!0)}),300)}))}))}};module.exports=s;